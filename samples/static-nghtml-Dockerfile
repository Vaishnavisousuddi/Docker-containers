# ---------- Stage 1: Build (optional, could be skipped for static) ----------
FROM node:16-alpine AS build

WORKDIR /app
COPY . .

# If using React or any static site generator, build it here
RUN npm install && npm run build


# ---------- Stage 2: Serve with Nginx ----------
FROM nginx:alpine

# Copy the static files from the build stage (or directly from local files)
COPY --from=build /app/build /usr/share/nginx/html

# Expose port 80
EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
